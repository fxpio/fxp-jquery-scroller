var FxpScroller=function(t,b){"use strict";function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n(t,e,o){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}b=b&&b.hasOwnProperty("default")?b.default:b;var i={},l=function(){function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};g(this,o),this.guid=b.guid,this.options=b.extend(!0,{},this.constructor.defaultOptions,e),this.$element=b(t)}return e(o,[{key:"destroy",value:function(){var e=this;Object.keys(e).forEach(function(t){delete e[t]})}}],[{key:"defaultOptions",set:function(t){i[this.name]=b.extend(!0,{},i[this.name],t)},get:function(){return void 0===i[this.name]&&(i[this.name]={}),i[this.name]}}]),o}();var w="vertical";function k(t){var e,o,r=t.data;r.refreshScrollbarPosition(t),void 0!==r.stickyHeader&&r.stickyHeader.checkPosition(),e=r,((o=$.Event("scrolling"+".fxp.scroller")).hammerScroll=e).$element.trigger(o)}function x(t){var e,o,r,n=t.data;e="DOMMouseScroll"===t.originalEvent.type?-40*t.originalEvent.detail:t.originalEvent.wheelDelta,o=n.getScrollPosition(),r=n.isVertical?n.$content.get(0).scrollHeight-n.$content.innerHeight():n.$content.get(0).scrollWidth-n.$content.innerWidth(),(n.isVertical||!n.isVertical&&t.shiftKey)&&(0<e&&o<=0||e<0&&r<=o)&&(t.stopPropagation(),t.preventDefault())}var s=function(t){function y(t){var e,o,r,n,i,l,s,c,a,u,f,d,h,p,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return g(this,y),o=this,(e=!(r=m(y).call(this,t,v))||"object"!=typeof r&&"function"!=typeof r?S(o):r).nativeScrollbarSize=((i=document.createElement("div")).style.width="100px",i.style.height="100px",i.style.overflow="scroll",i.style.position="absolute",i.style.top="-9999px",document.body.appendChild(i),n=i.offsetWidth-i.clientWidth,document.body.removeChild(i),n),l=S(S(e)),(s=e.options).autoConfig&&0===l.nativeScrollbarSize&&(s.scrollbar=!1),s.direction!==w&&(s.scrollerStickyHeader=!1),e.isVertical=e.options.direction===w,e.$content=(c=S(S(e)),a={},u=$('<div class="'+c.options.contentClass+'"></div>'),f="right",d=0<c.nativeScrollbarSize?"scroll":"auto",null!==c.options.contentSelector&&(u=$(c.options.contentSelector,c.$element)).addClass(c.options.contentClass),f="rtl"===u.css("direction")?"left":f,a.position="relative",a.display="block",a.overflow="hidden",a["-webkit-transform"]="translate3d(0, 0, 0)",a.transform="translate3d(0, 0, 0)",c.isVertical?(a.width="auto",a.height="100%",a["overflow-x"]="hidden",a["overflow-y"]=d,a["margin-"+f]=-c.nativeScrollbarSize+"px"):(a.width="100%",a.height="auto",a["overflow-x"]=d,a["overflow-y"]="hidden",a["margin-bottom"]=-c.nativeScrollbarSize+"px"),u.css(a),c.$element.css({position:"relative",overflow:"hidden"}),null===c.options.contentSelector&&(c.$element.children().each(function(){u.append(this)}),c.$element.append(u)),u),e.options.preventMouseScroll&&e.$element.on("DOMMouseScroll.fxp.scroller mousewheel.fxp.scroller",null,S(S(e)),x),e.options.scrollbar&&(e.$scrollbar=(h=S(S(e)),p=$('<div class="scroller-scrollbar '+e.options.direction+'"></div>'),h.options.scrollbarInverse&&p.addClass("scroller-inverse"),h.$element.prepend(p),p),b(window).on("resize.fxp.scroller-bar"+e.guid,null,S(S(e)),e.resizeScrollbar)),e.$content.on("scroll.fxp.scroller",null,S(S(e)),k),e.options.scrollerStickyHeader&&b.fn.stickyHeader&&(e.stickyHeader=e.$element.stickyHeader(e.options.stickyOptions).data("fxp.stickyheader")),e.resizeScrollbar(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(y,l),e(y,[{key:"setScrollPosition",value:function(t){return this.isVertical?this.$content.scrollTop(t):this.$content.scrollLeft(t)}},{key:"getScrollPosition",value:function(){return this.isVertical?this.$content.scrollTop():this.$content.scrollLeft()}},{key:"getMaxScrollPosition",value:function(){return this.isVertical?this.$content.get(0).scrollHeight-this.$content.innerHeight():this.$content.get(0).scrollWidth-this.$content.innerWidth()}},{key:"resizeScrollbar",value:function(t){var e,o,r,n=void 0!==t?t.data:this;void 0!==n.$scrollbar&&(e=n.isVertical?n.$element.innerHeight():n.$element.innerWidth(),o=n.isVertical?n.$content.get(0).scrollHeight:n.$content.get(0).scrollWidth,(r=Math.max(n.options.scrollbarMinSize,Math.round(e*Math.min(e/o,1))))<e?n.$scrollbar.addClass("scroller-active"):n.$scrollbar.removeClass("scroller-active"),n.isVertical?n.$scrollbar.height(r):n.$scrollbar.width(r),n.refreshScrollbarPosition())}},{key:"refreshScrollbarPosition",value:function(t){var e,o,r,n,i,l,s,c=void 0!==t?t.data:this;void 0!==c.$scrollbar&&(e=this.getScrollPosition(),o=c.isVertical?c.$element.innerHeight():c.$element.innerWidth(),r=e/((c.isVertical?c.$content.get(0).scrollHeight+parseInt(c.$element.css("padding-top"),10)+parseInt(c.$element.css("padding-bottom"),10):c.$content.get(0).scrollWidth+parseInt(c.$element.css("padding-left"),10)+parseInt(c.$element.css("padding-right"),10))-o),n=c.isVertical?c.$scrollbar.outerHeight():c.$scrollbar.outerWidth(),i=Math.round(r*(o-n)),(l=c.$scrollbar).css("-webkit-transform",s="translate3d("+(c.isVertical?"0px, "+i+"px, 0px":i+"px, 0px, 0px")+")"),l.css("transform",s))}},{key:"refresh",value:function(){this.resizeScrollbar(),void 0!==this.stickyHeader&&this.stickyHeader.refresh()}},{key:"destroy",value:function(){var t;b(window).off("resize.fxp.scroller-bar"+this.guid,this.resizeScrollbar),this.$content.off("scroll.fxp.scroller",k),this.$content=(void 0!==(t=this).$scrollbar&&t.$scrollbar.remove(),t.$element.css({position:"",overflow:""}),null===t.options.contentSelector?(t.$content.remove(),t.$content.children().each(function(){t.$element.append(this)})):t.$content.removeClass(t.options.contentClass).css({position:"",display:"",overflow:"",width:"",height:"","margin-left":"","margin-right":"","margin-bottom":"","-webkit-transform":"",transform:""}),null),this.$element.off("DOMMouseScroll.fxp.scroller mousewheel.fxp.scroller",x),void 0!==this.stickyHeader&&this.stickyHeader.destroy(),n(m(y.prototype),"destroy",this).call(this)}}]),y}();return s.defaultOptions={scrollbar:!0,scrollbarInverse:!1,scrollbarMinSize:14,contentClass:"scroller-content",contentSelector:null,autoConfig:!0,preventMouseScroll:!1,direction:w,scrollerStickyHeader:!1,stickyOptions:{}},function(e,s,c){var t=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"destroy",r=b.fn[e];b.fn[e]=function(){for(var n,t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,l=Array(1<e?e-1:0),o=1;o<e;o++)l[o-1]=arguments[o];return 1===(t=this.each(function(t,e){var o=b(e),r=o.data(s);r||(r=new c(e,"object"===u(i)?i:{}),o.data(s,r)),"string"==typeof i&&r&&(r[i]?n=(n=r[i].apply(r,l))!==r?n:void 0:r.constructor[i]&&(n=(n=r.constructor[i].apply(r,l))!==r?n:void 0),i===a&&o.removeData(s))})).length&&void 0!==n?n:t},b.fn[e].Constructor=c,t&&(b[e]=function(t){return b({})[e](t)}),b.fn[e].noConflict=function(){return b.fn[e]=r},null!==o&&b(window).on("load",function(){b(o).each(function(){var t=b(this);b.fn[e].call(t,t.data())})})}("scroller","fxp.scroller",s,!0,'[data-scroller="true"]'),t.default=s,t}({},jQuery);
