var FxpScroller=function(t,u){"use strict";function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(o){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=n(o);return t=r?(t=n(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!=typeof t&&"function"!=typeof t?a(e):t}}function d(t,e,o){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(o):e.value}})(t,e,o||t)}u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var l={},h=function(){function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,o),this.guid=u.guid,this.options=u.extend(!0,{},this.constructor.defaultOptions,e),this.$element=u(t)}return e(o,[{key:"destroy",value:function(){var e=this;Object.keys(e).forEach(function(t){delete e[t]})}}],[{key:"defaultOptions",get:function(){return void 0===l[this.name]&&(l[this.name]={}),l[this.name]},set:function(t){l[this.name]=u.extend(!0,{},l[this.name],t)}}]),o}();var p="vertical";function v(t){var e=t.data;e.refreshScrollbarPosition(t),void 0!==e.stickyHeader&&e.stickyHeader.checkPosition(),t="scrolling",e=e,((t=$.Event(t+".fxp.scroller")).hammerScroll=e).$element.trigger(t)}function y(t){var e=t.data,o="DOMMouseScroll"===t.originalEvent.type?-40*t.originalEvent.detail:t.originalEvent.wheelDelta,r=e.getScrollPosition(),n=e.isVertical?e.$content.get(0).scrollHeight-e.$content.innerHeight():e.$content.get(0).scrollWidth-e.$content.innerWidth();(e.isVertical||!e.isVertical&&t.shiftKey)&&(0<o&&r<=0||o<0&&n<=r)&&(t.stopPropagation(),t.preventDefault())}var c=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(c,h);var l=i(c);function c(t){var e,o,r,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,c),(e=l.call(this,t,i)).nativeScrollbarSize=((n=document.createElement("div")).style.width="100px",n.style.height="100px",n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n),r),t=a(e),(i=e.options).autoConfig&&0===t.nativeScrollbarSize&&(i.scrollbar=!1),i.direction!==p&&(i.scrollerStickyHeader=!1),e.isVertical=e.options.direction===p,e.$content=(n=a(e),r={},o=$('<div class="'+n.options.contentClass+'"></div>'),t="right",i=0<n.nativeScrollbarSize?"scroll":"auto",null!==n.options.contentSelector&&(o=$(n.options.contentSelector,n.$element)).addClass(n.options.contentClass),t="rtl"===o.css("direction")?"left":t,r.position="relative",r.display="block",r.overflow="hidden",r["-webkit-transform"]="translate3d(0, 0, 0)",r.transform="translate3d(0, 0, 0)",n.isVertical?(r.width="auto",r.height="100%",r["overflow-x"]="hidden",r["overflow-y"]=i,r["margin-"+t]=-n.nativeScrollbarSize+"px"):(r.width="100%",r.height="auto",r["overflow-x"]=i,r["overflow-y"]="hidden",r["margin-bottom"]=-n.nativeScrollbarSize+"px"),o.css(r),n.$element.css({position:"relative",overflow:"hidden"}),null===n.options.contentSelector&&(n.$element.children().each(function(){o.append(this)}),n.$element.append(o)),o),e.options.preventMouseScroll&&e.$element.on("DOMMouseScroll.fxp.scroller mousewheel.fxp.scroller",null,a(e),y),e.options.scrollbar&&(e.$scrollbar=(r=a(e),n=e.options.direction,n=$('<div class="scroller-scrollbar '+n+'"></div>'),r.options.scrollbarInverse&&n.addClass("scroller-inverse"),r.$element.prepend(n),n),u(window).on("resize.fxp.scroller-bar"+e.guid,null,a(e),e.resizeScrollbar)),e.$content.on("scroll.fxp.scroller",null,a(e),v),e.options.scrollerStickyHeader&&u.fn.stickyHeader&&(e.stickyHeader=e.$element.stickyHeader(e.options.stickyOptions).data("fxp.stickyheader")),e.resizeScrollbar(),e}return e(c,[{key:"setScrollPosition",value:function(t){return this.isVertical?this.$content.scrollTop(t):this.$content.scrollLeft(t)}},{key:"getScrollPosition",value:function(){return this.isVertical?this.$content.scrollTop():this.$content.scrollLeft()}},{key:"getMaxScrollPosition",value:function(){return this.isVertical?this.$content.get(0).scrollHeight-this.$content.innerHeight():this.$content.get(0).scrollWidth-this.$content.innerWidth()}},{key:"resizeScrollbar",value:function(t){var e,o=void 0!==t?t.data:this;void 0!==o.$scrollbar&&(e=o.isVertical?o.$element.innerHeight():o.$element.innerWidth(),t=o.isVertical?o.$content.get(0).scrollHeight:o.$content.get(0).scrollWidth,(t=Math.max(o.options.scrollbarMinSize,Math.round(e*Math.min(e/t,1))))<e?o.$scrollbar.addClass("scroller-active"):o.$scrollbar.removeClass("scroller-active"),o.isVertical?o.$scrollbar.height(t):o.$scrollbar.width(t),o.refreshScrollbarPosition())}},{key:"refreshScrollbarPosition",value:function(t){var e,o,r=void 0!==t?t.data:this;void 0!==r.$scrollbar&&(o=this.getScrollPosition(),e=r.isVertical?r.$element.innerHeight():r.$element.innerWidth(),t=o/((r.isVertical?r.$content.get(0).scrollHeight+parseInt(r.$element.css("padding-top"),10)+parseInt(r.$element.css("padding-bottom"),10):r.$content.get(0).scrollWidth+parseInt(r.$element.css("padding-left"),10)+parseInt(r.$element.css("padding-right"),10))-e),o=r.isVertical?r.$scrollbar.outerHeight():r.$scrollbar.outerWidth(),e=Math.round(t*(e-o)),(o=o=r.$scrollbar).css("-webkit-transform",e="translate3d("+(r.isVertical?"0px, "+e+"px, 0px":e+"px, 0px, 0px")+")"),o.css("transform",e))}},{key:"refresh",value:function(){this.resizeScrollbar(),void 0!==this.stickyHeader&&this.stickyHeader.refresh()}},{key:"destroy",value:function(){var t;u(window).off("resize.fxp.scroller-bar"+this.guid,this.resizeScrollbar),this.$content.off("scroll.fxp.scroller",v),this.$content=(void 0!==(t=this).$scrollbar&&t.$scrollbar.remove(),t.$element.css({position:"",overflow:""}),null===t.options.contentSelector?(t.$content.remove(),t.$content.children().each(function(){t.$element.append(this)})):t.$content.removeClass(t.options.contentClass).css({position:"",display:"",overflow:"",width:"",height:"","margin-left":"","margin-right":"","margin-bottom":"","-webkit-transform":"",transform:""}),null),this.$element.off("DOMMouseScroll.fxp.scroller mousewheel.fxp.scroller",y),void 0!==this.stickyHeader&&this.stickyHeader.destroy(),d(n(c.prototype),"destroy",this).call(this)}}]),c}();return c.defaultOptions={scrollbar:!0,scrollbarInverse:!1,scrollbarMinSize:14,contentClass:"scroller-content",contentSelector:null,autoConfig:!0,preventMouseScroll:!1,direction:p,scrollerStickyHeader:!1,stickyOptions:{}},function(e,c,s,t,o,r){var t=3<arguments.length&&void 0!==t&&t,n=4<arguments.length&&void 0!==o?o:null,a=5<arguments.length&&void 0!==r?r:"destroy",i=u.fn[e];u.fn[e]=function(){for(var n,t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,l=Array(1<e?e-1:0),o=1;o<e;o++)l[o-1]=arguments[o];return 1===(t=this.each(function(t,e){var o=u(e),r=o.data(c);r||(r=new s(e,"object"===f(i)?i:{}),o.data(c,r)),"string"==typeof i&&r&&(r[i]?n=(n=r[i].apply(r,l))!==r?n:void 0:r.constructor[i]&&(n=(n=r.constructor[i].apply(r,l))!==r?n:void 0),i===a&&o.removeData(c))})).length&&void 0!==n?n:t},u.fn[e].Constructor=s,t&&(u[e]=function(t){return u({})[e](t)}),u.fn[e].noConflict=function(){return u.fn[e]=i},null!==n&&u(window).on("load",function(){u(n).each(function(){var t=u(this);u.fn[e].call(t,t.data())})})}("scroller","fxp.scroller",c,!0,'[data-scroller="true"]'),t.default=c,t}({},jQuery);
